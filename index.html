<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        #car {
            width: 50px;
            height: 30px;
            background-color: blue;
            position: absolute;
        }
    </style>
</head>
<body>

<div>
    初始速度: <input type="number" id="velocity" value="5">
</div>
<div>
    摩擦力: <input type="number" id="friction" value="0.02">
</div>
<button id="accelerateButton">加速</button>
<button id="decelerateButton">减速</button>
<button id="stopButton">停止</button>

<div id="car"></div>

<script>
    const car = document.getElementById('car');
    const velocityInput = document.getElementById('velocity');
    const frictionInput = document.getElementById('friction');
    const accelerateButton = document.getElementById('accelerateButton');
    const decelerateButton = document.getElementById('decelerateButton');
    const stopButton = document.getElementById('stopButton');

    let velocity = parseFloat(velocityInput.value) || 5;
    let friction = parseFloat(frictionInput.value) || 0.02;

    function moveCar() {
        let position = parseInt(getComputedStyle(car).left, 10);
        if (position < window.innerWidth - car.clientWidth) {
            // 车辆在可移动范围内
            position += velocity;
            velocity -= friction;
            car.style.left = position + 'px';
            requestAnimationFrame(moveCar);
        } else {
            // 车辆停止
            velocity = 0;
        }
    }

    function accelerate() {
        velocity += 1; // 可根据需要调整加速度
    }

    function decelerate() {
        velocity -= 1; // 可根据需要调整减速度
    }

    function startAnimation() {
        velocity = parseFloat(velocityInput.value) || 5;
        friction = parseFloat(frictionInput.value) || 0.02;
        moveCar();
    }

    accelerateButton.addEventListener('click', accelerate);
    decelerateButton.addEventListener('click', decelerate);
    stopButton.addEventListener('click', () => {
        velocity = 0;
    });

    startAnimation();
</script>

</body>
</html>